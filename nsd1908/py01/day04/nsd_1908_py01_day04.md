# nsd_1908_py01_day04

python官方帮助：https://docs.python.org/zh-cn/3/ ->标准库参考

## shutil模块

```python
>>> import shutil
>>> f1 = open('/bin/touch', 'rb')
>>> f2 = open('/tmp/tch', 'wb')
>>> shutil.copyfileobj(f1, f2)
>>> f1.close()
>>> f2.close()

>>> shutil.copy('/etc/hosts', '/tmp/')  # cp /etc/hosts /tmp/
'/tmp/hosts'

>>> shutil.copy2('/etc/hosts', '/tmp/zhuji')
'/tmp/zhuji'  # cp -p /etc/hosts /tmp/zhuji

>>> shutil.copytree('/etc/security', '/tmp/anquan')
'/tmp/anquan'   # cp -r

>>> shutil.move('/tmp/anquan', '/var/tmp')
'/var/tmp/anquan'   # mv /tmp/anquan /var/tmp

# chown tom.tom /tmp/tch
>>> shutil.chown('/tmp/tch', user='tom', group='tom')

# 查看shutil.chown的帮助
>>> help(shutil.chown)

# 查看shutil模块的帮助
>>> help(shutil)

>>> shutil.rmtree('/var/tmp/anquan')  # rm -rf 
```

## subprocess模块

- 用于执行系统命令

```python
# 在shell环境下执行命令
>>> subprocess.run('ls /tmp', shell=True)

# 将运行结果保存到变量中
>>> result = subprocess.run('ls /tmp', shell=True)
>>> result
CompletedProcess(args='ls /tmp', returncode=0)
>>> result.args
'ls /tmp'
>>> result.returncode   # 即$?
0

# 将标准输出保存到stdout，错误保存到stderr
>>> result = subprocess.run('id root; id zhangsan', shell=True, stdout=subprocess.PIPE, stderr=subprocess.PIPE)
>>> result.stdout
b'uid=0(root) gid=0(root) \xe7\xbb\x84=0(root)\n'
>>> result.stderr
b'id: zhangsan: no such user\n'
>>> result.stdout.decode()  # 将bytes类型转成str类型
'uid=0(root) gid=0(root) 组=0(root)\n'

```



















