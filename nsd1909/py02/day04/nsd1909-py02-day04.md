# nsd1909-py02-day04

## 复杂列表的排序

- 列表的sort方法，接受一个名为key的参数
- key需要是一个函数
- key函数处理列表的每一项，将处理结果作为排序依据。
- key函数不改变列表

```python
>>> result = {'172.40.58.150': 10, '172.40.58.124': 6, '172.40.58.101': 10, '127.0.0.1': 121, '192.168.4.254': 103, '192.168.2.254': 110, '201.1.1.254': 173, '201.1.2.254': 119, '172.40.0.54': 391, '172.40.50.116': 244}
>>> list(result.items())
[('172.40.58.150', 10), ('172.40.58.124', 6), ('172.40.58.101', 10), ('127.0.0.1', 121), ('192.168.4.254', 103), ('192.168.2.254', 110), ('201.1.1.254', 173), ('201.1.2.254', 119), ('172.40.0.54', 391), ('172.40.50.116', 244)]
>>> l = list(result.items())
>>> def get_last(seq):   # 接受一个序列对象
...   return seq[-1]     # 返回序列中的最后一项
... 
>>> l.sort(key=get_last)
>>> l
[('172.40.58.124', 6), ('172.40.58.150', 10), ('172.40.58.101', 10), ('192.168.4.254', 103), ('192.168.2.254', 110), ('201.1.2.254', 119), ('127.0.0.1', 121), ('201.1.1.254', 173), ('172.40.50.116', 244), ('172.40.0.54', 391)]

# 因为get_last函数非常简单，所以可以不定义它，直接使用匿名函数
>>> l.sort(key=lambda seq: seq[-1], reverse=True)  # 使作匿名函数，并降序排列
```

## 模块安装

### 本地安装

- 下载模块：https://pypi.org/
- 安装方法一：

```shell
[root@localhost 下载]# tar xf xxxx.tar.gz   # 解压
[root@localhost 下载]# cd xxxx              # 切换至解压目录
# 注意，python setup.py install将会将模块安装到python2中
[root@localhost xxxx]# python3 setup.py install
```

- 安装方法二：

```python
[root@localhost zzg_pypkgs]# pip3 install wordcloud_pkgs/*
```

### 在线安装

- pip工具类似于yum，yum安装rpm包，pip安装python包
- 在线直接安装

```shell
[root@localhost zzg_pypkgs]# pip3 install wget
```

- 如果直接安装的话，有可能速度比较慢，因为使用的是国外站点。
- 设置安装时，使用国内镜像站点

```shell
[root@localhost ~]# mkdir ~/.pip
[root@localhost ~]# vim ~/.pip/pip.conf
[global]
index-url = http://mirrors.aliyun.com/pypi/simple/

[install]
trusted-host=mirrors.aliyun.com

[root@localhost ~]# pip3 install pymysql
```



