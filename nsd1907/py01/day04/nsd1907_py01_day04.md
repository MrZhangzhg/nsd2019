# nsd1907_py01_day04

## shutil模块：用于执行一些Shell操作

```python
>>> import shutil
>>> f1 = open('/etc/hosts', 'rb')
>>> f2 = open('/tmp/zj.txt', 'wb')
>>> shutil.copyfileobj(f1, f2)
>>> f1.close()
>>> f2.close()

# 拷贝文件, cp /etc/hosts /tmp/zhuji
>>> shutil.copy('/etc/hosts', '/tmp/zhuji')
# cp -p /etc/hosts /tmp/zhuji
>>> shutil.copy2('/etc/hosts', '/tmp/zhuji2')
# cp -r /etc/security /tmp/anquan
>>> shutil.copytree('/etc/security', '/tmp/anquan')
# mv /tmp/anquan /var/tmp/
>>> shutil.move('/tmp/anquan', '/var/tmp/')
# chown bob.bob /tmp/zhuji
>>> shutil.chown('/tmp/zhuji', user='bob', group='bob')

# rm -rf /var/tmp/anquan
>>> shutil.rmtree('/var/tmp/anquan')
```

## subprocess模块：用于调用系统命令

```python
>>> import subprocess
>>> result = subprocess.run('id root', shell=True)
uid=0(root) gid=0(root) 组=0(root)   # 命令结果将会print到屏幕
>>> result.args
'id root'
>>> result.returncode   # returncode就是$?
0
# 如果不希望把命令的执行结果打印在屏幕上，可以使用以下方式：
>>> result = subprocess.run('id root; id john', shell=True, stdout=subprocess.PIPE, stderr=subprocess.PIPE)
>>> result.stderr
b'id: john: no such user\n'
>>> result.stdout
b'uid=0(root) gid=0(root) \xe7\xbb\x84=0(root)\n'
>>> result.stdout.decode()
'uid=0(root) gid=0(root) 组=0(root)\n'

```















